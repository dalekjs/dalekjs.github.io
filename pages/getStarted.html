<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>DalekJS - Automated cross browser testing with JavaScript</title><meta name="description" content="DalekJS - Exterminate all the bugs"><meta name="viewport" content="width=device-width"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="icon" href="/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png"><link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png"><link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png"><link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png"><link rel="dns-prefetch" href="//dalekjs.com"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//themes.googleusercontent.com"><link rel="dns-prefetch" href="//www.google-analytics.com"><link rel="stylesheet" href="../css/6b072189.main.css"><link href="//fonts.googleapis.com/css?family=Londrina+Solid" rel="stylesheet" type="text/css"><body data-buildtime="@@timestamp"><div class="grid"><header class="grid__item one-whole"><nav role="select"><ul class="nav nav--fit nav--block"><li><a href="../index.html">DALEKJS</a></li><li><a class="active" href="../pages/getStarted.html">Get started</a></li><li><a href="../pages/documentation.html">Documentation</a></li><li><a href="../pages/support.html">Support</a></li><li><a href="../pages/faq.html">FAQ</a></li><li><a href="../pages/merch.html">Merch</a></li></ul><select onchange="if (this.value) window.location.href = this.value"><option value="../index.html">DALEKJS<option selected value="../pages/getStarted.html">Get started<option value="../pages/documentation.html">Documentation<option value="../pages/support.html">Support<option value="../pages/faq.html">FAQ<option value="../pages/merch.html">Merch</select></nav></header><div class="wrapper grid__item one-whole" data-templatevars="{
                &quot;started&quot;: true
            }"><div class="grid__item one-quarter sidenav" id="sidenav"><ul id="scroller-side"><li class="active nav-selenium"><a href="#selenium">This ain't Selenium</a></li><li class="nav-install"><a href="#install">Installation</a></li><li class="nav-firsttest"><a href="#firsttest">Write your first test</a></li><li class="nav-runtests"><a href="#runtests">Run your tests</a></li><li class="nav-userinteraction"><a href="#userinteraction">Add user interactions</a></li><li class="nav-realbrowser"><a href="#realbrowser">Add a "real" browser</a></li><li class="nav-report"><a href="#report">Create a report</a></li></ul></div><div class="grid__item three-quarters" id="content"><div class="grid__item one-whole" id="scroller"><h1>Get Started</h1><div class="grid__item one-whole"><a class="nav-helper" data-name="selenium"></a><h2>This ainâ€™t Selenium</h2><p class="description">Before we get to the interesting stuff, installation, APIs and all these important things, please take 5 minutes, grab a nice cup of coffee or tea &amp; let me tell you why I started this massive pile of code in the first place.<br><br>Back in December 2012, I was working on a few web apps (you could call them single page apps, if you feel buzzwordy), for a yet unreleased big web platform. For the first time in my career, I had the opportunity to work with a testing team, people who would test the things that I've programmed 8 to 10 hours a day. And yes, they tested, they tested the hell out of my code, spotted bugs I had never encountered, even if I would have been really keen on testing my stuff (I wasn't, and by the way, if that reads like a christmas carol, it's just you - it was mid July when I wrote this).<br>But week after week, the applications changed, and the code changed, and the code produced side effects, and sometimes, some old really well tested feature broke. Nobody noticed until some of our "friendly test users" (or even worse, stakeholders) reported an issue. Embarassing, a shame, an affront to my (Klingon like) programmer honor, but hey, we all heard of this testing framework Selenium, right?! Some tool that promises to make us stop worry about this &amp; instead lets us write an automated testcase once, and magically replaying it everytime we want. Maybe after every commit, maybe every night, we didn't care as long as our CI server greets us with a green light every morning, everything should be fine. So our testers began writing tests, in Java, because that was the language that we're taught to do so back in the days in university. And yes, we had tests, 100, 200, 300, ... and so on. In the end, they had written around 500 to 600 tests. We ran them twice a day, against Chrome &amp; before the end of sprint, we ran them in various other browsers, too.<br><br>They worked, they worked by the time they were written &amp; they mostly stopped working when we changed something in our existing codebase (agile development FTW!). So what needed to be done, when we changed our code, behaviour, markup, whatever of an already tested feature? Our testers needed to change the tests accordingly. So we were 8 developers and 2 testers in our team, naturally, they couldn't keep up with the changes, the CI Servers always showed us failing tests (you stop worrying about the "build failed" mails after some months, believe me), basically our complete test automation suite was useless (oh, jUnit, I kinda miss your 300 lines long stacktraces, when a &lt;h1&gt; tag was missing *sniff*).<br>So, we as a group (6 JavaScript devs/2 Web Designers/2 Testers) decided that we developers should change the Selenium tests when we change the underlying codebase, and yes we tried (have you ever heard the joke about the 6 javascript devs trying to change Java code, written by two "non programmers", no?, good, because it isn't funny at all). In the end we kinda gave up, too much time &amp; effort spend on writing the tests, we needed to speed up with feature implementations &amp; the shame came back (Oh, I felt so dishonored).<br><br>The process we've been through made me think, how should such a tool represent itself to the developers, how can it be "a nobrainer" for web developers, for the people who build what you see in the internetz, the frontend devs, for everyone?! I came to the conclusion that only JavaScript can be considered as a "common knowledge programming language" in web land.<br>Also the setup process for running the tools that ran the Selenium tests (Java jrde*whatever, Maven, Ant, jUnit, Eclipse, etc.) was a major pain point in my opinion, I wan't it to be as easy as installing a tool via npm.<br>So my dear reader, here we are now, introducing a new testing tool for your Webpages, one that hopefully makes you love testing, one that holds your hand instead of pushing you away, one that makes you wanna contribute to it...<br><br>Okay, just one more thing, <cite>DalekJS was born in battle, full of blood &amp; anger</cite> and therefore is buggy as hell &amp; not ready for production yet.<br>Only you can make it better, report bugs as you never ever reported before, send pull requests that will make me sleepless merging them, discuss in the mailing list about what you wan't. This aint Selenium, this is DalekJS, this is your tool.</p></div><div class="grid__item one-whole"><a class="nav-helper" data-name="install"></a><h2>Installation</h2><p class="description">Dalek's installation is pretty forward, just make sure you have Node.js installed. If you don't have Node installed, just go to <a href="http://nodejs.org/" target="_blank">nodejs.org</a> &amp; follow the instructions of the graphical installer.<br><br>With node comes a handy package management tool called `npm`. You can verify, if the installation succeeded when you open your command line &amp; type<pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-npm">npm</span> <span class="token shell-npm">--version</span></code></pre><span class="description">then you should see some output like this</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-icon" style="color: #fff">1.1.62</span></code></pre><span class="description">where the version number depends on your installed version of Node.</span><br><br><span class="description">If that worked, you should be able to install DalekJS.<br>Dalek is split up in a few different parts, to get it working initially, you first have to install the "Dalek Command Line Tools", this is as easy as typing</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-npm">npm install</span> <span class="token shell-dalek">dalek-cli</span> <span class="token shell-npm">-g</span></code></pre><span class="description">in your command line.<br>Verify that the installation worked by checking with</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-dalek">dalek</span> <span class="token shell-npm">-v</span></code></pre><span class="description">You should see something like this</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-icon" style="color: #fff">DalekJS CLI Tools Version: 0.0.1</span>
<span class="token shell-icon" style="color: #fff">  Brought to you with love by: Sebastian Golasch (@asciidisco) 2013</span></code></pre><span class="description">Awesome, you're one step closer to the finish line, next up, you need to add a <strong>package.json</strong> file to your projects root directory, if you haven't one already. You can start with the bare minimum of that file, which should look something like this:</span><pre class="code-thingie"><code class="language-javascript">{
  "name": "myCssTardis",
  "description": "Is awesome",
  "version": "0.0.2"
}</code></pre><span class="description">Hah, you "nodyfied" project &amp; I guess, now that you learned to love the command line, you would really like to go back &amp; hack!? Great, then the next step is something for you, we install the Dalek base framework &amp; all its dependencies with a one liner that looks like this:</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-npm">npm install</span> <span class="token shell-dalek">dalekjs</span> <span class="token shell-npm">--save-dev</span></code></pre><span class="description">Guess what?! That was it. You installed DalekJS you old command line hero, if you want to verify, that the local installation worked, you can, again, ask Dalek in which version it is running, because now, it will also tell you the version number of your local Dalek installation:</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-dalek">dalek</span> <span class="token shell-npm">-v</span></code></pre><span class="description">You should see something like this</span><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-icon" style="color: #fff">DalekJS CLI Tools Version: 0.0.1</span>
<span class="token shell-icon" style="color: #fff">  DalekJS local install: 0.0.1</span>
<span class="token shell-icon" style="color: #fff">  Brought to you with love by: Sebastian Golasch (@asciidisco) 2013</span></code></pre></p></div><div class="grid__item one-whole"><a class="nav-helper" data-name="firsttest"></a><h2>Write your first test</h2><p class="description">Okay command line cowboys &amp; cowgirls, it is time to write our first test!<br>And, because I don't know your pages &amp; sites, I think we should test something we all know, yes it is time to use our old friend Google again! In this test, we will verify that the &lt;title&gt; element from Googleâ€™s homepage has the correct value.<br>The test we need to write, to make this happen, looks like this:</p><pre class="code-thingie"><code class="language-javascript">module.exports = {
'Page title is correct': function (test) {
  test
    .open('http://google.com')
    .assert.title().is('Google', 'It has title')
    .done();
}
};</code></pre><p class="description">Now, lets save this file as 'my_first_test.js' in a folder called 'test'. Everything wrapped in the object literal called `module.exports` is a test suite. It can contain hundreds of single test functions just like the one that we created. Each test function gets an argument, conventionally called `test`. This `test` variable is your interface to Dalek's functions.<br><br>So what does this test do? It's quite simple really!<br><br>It opens a browser (PhantomJS by default), points to Google, and after the browser has finished loading, we `assert` that the `title` of the page is `Google`. The second argument of the `is` method allows you to label your tests. This makes it easy to identify which are failing. Finally, to tell Dalek that we are done with this test, we call the `done` method. That is it, your first test is ready! Hurrah!</p></div><div class="grid__item one-whole"><a class="nav-helper" data-name="runtests"></a><h2>Run your tests</h2><p class="description">So far so good, we learned why Dalek is awesome, installed dalek, we wrote our first test &amp; now it is time to really get some timey-wimey action started. Go back to our new friend, the command line, go back to your project folder &amp; simply type:</p><pre class="dalek-shell cmd-output"><code><span class="token shell-icon">$</span> <span class="token shell-dalek">dalek</span> <span class="token shell-npm">test/my_first_test.js</span></code></pre><p class="description">Awesome, now just hit return &amp; experience the Dalek magic for the first time. It all worked well, if you end up with some output like this:</p><pre class="dalek-shell cmd-output"><code><span class="token shell-rt">Running tests</span>
<span class="token shell-rt">Running Browser:</span> <span class="token shell-browser">Phantomjs</span>
<span class="token shell-rt">RUNNING TEST -</span> <span class="token shell-tt">"Page title is correct"</span>
<span class="token shell-action">â–¶ OPEN http://google.com</span>
<span class="token shell-sg">âœ”</span> <span class="token shell-rt">TITLE It has title</span>
<span class="token shell-sg">âœ”</span> <span class="token shell-rt">1 Assertions run</span>
<span class="token shell-sg">âœ”</span> <span class="token shell-rt">TEST - <span class="token shell-tt">"Page title is correct"</span> SUCCEEDED</span>
<span class="token shell-suc">1/1 assertions passed. Elapsed Time: 2 sec</span>                 </code></pre></div><div class="grid__item one-whole"><a class="nav-helper" data-name="userinteraction"></a><h2>Add user interactions</h2><p class="description">Wow, we came that far in such a short amount of time. Isn't it awesome? I believe it is =)</p><p class="description">This chapter adds some information on how to simulate a real user, in Daleks context, such method calls are called 'actions'. You already issued an action when telling the browser to `open` a page. One of the things you will be using most are the `click` &amp; `type` actions.</p><p class="description">Click simulates a user clicking on an element (most of the time, it will be a link, but you can select any element you want to click on it).<br>Type lets you enter data into a form field.</p><p class="description">To explain this actions in more detail, we will write a little test that checks if the Amazons search field on the homepage is working as we expect:.</p><pre class="code-thingie"><code class="language-javascript">module.exports = {
'Amazon does its thing': function (test) {
  test
    .open('http://www.amazon.com/')
    .type('#twotabsearchtextbox', 'Blues Brothers VHS')
    .click('.nav-submit-input')
    .waitForElement('#result_0')
    .assert.text('#result_0 .newaps a span').is('The Blues Brothers')
    .done();
}
};</code></pre><p class="description">Cool, we just simulated a real user interacting with a webpage, now lets take this thing a step further &amp; add a 'real' browser, that your regular users will use.</p></div><div class="grid__item one-whole"><a class="nav-helper" data-name="realbrowser"></a><h2>Add a "real" browser</h2><p class="description">After struggling with tons of blog posts &amp; documentation on how to setup browsers for Selenium &amp; Watir, I just wanted to have a really simple &amp; sane way to add a browser to your testing suite:</p><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-npm">npm install</span> <span class="token shell-dalek">dalek-browser-chrome</span> <span class="token shell-npm">--save-dev</span></code></pre><p class="description">Yep, that was it, now you can call your testsuite with an additional parameter &amp; youÂ´re good to go.</p><pre class="dalek-shell cmd-output"><code><span class="token shell-icon">$</span> <span class="token shell-dalek">dalek</span> <span class="token shell-npm">test/my_first_test.js -b chrome</span></code></pre></div><div class="grid__item one-whole"><a class="nav-helper" data-name="report"></a><h2>Create a report</h2><p class="description">We are about to finish our little DalekJS crash course with this chapter, IÂ´m very proud of you still reading the guide. In this last step we will install a reporter that will help you store the results of your test run. There are several reporters available, but we will use the HTML reporter here. This reporter will generate a set of static HTML pages &amp; store that in a folder on your disk. Of course, the installation is as easy as always, just:</p><pre class="dalek-shell"><code><span class="token shell-icon">$</span> <span class="token shell-npm">npm install</span> <span class="token shell-dalek">dalek-reporter-html</span> <span class="token shell-npm">--save-dev</span></code></pre><p class="description">Cool, now just add another parameter to your `dalek` call</p><pre class="dalek-shell cmd-output"><code><span class="token shell-icon">$</span> <span class="token shell-dalek">dalek</span> <span class="token shell-npm">test/my_first_test.js -r console,html</span></code></pre><p class="description">This will create a new folder for you, called "report/dalek", in there you will find an `index.html` with all the information from your test run.</p><p class="description">You? Still here? You are my hero, now lets go ahead &amp; write some useful tests for your application. Happy testing &amp; when you still have some questions, check the <a href="/pages/documentation.html">Docs</a> or ping me via IRC, Twitter, Github or mail.</p></div></div></div></div><footer id="footer" class="grid__item one-whole footer"><span class="footer__author">DalekJS created by <a class="footer__link" href="https://github.com/asciidisco">Sebastian Golasch</a></span><span class="footer__author">Logo by <a class="footer__link" href="http://www.redbubble.com/people/scottbarker">Scott Barker</a></span><span class="footer__author">Browser icons by <a class="footer__link" href="https://github.com/substack">Substack</a></span></footer></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
          m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
          })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

          ga('create', 'UA-42520123-1', 'dalekjs.com');
          ga('send', 'pageview');</script><script src="../js/6484ed2c.main.js"></script>